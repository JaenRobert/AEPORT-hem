<!-- √ÜSI SYSTEM INTEGRATION - Add this to index.html before </body> -->

<!-- PROJECT SYSTEM & REALTIME ENGINE -->
<script src="./js/project_system.js"></script>
<script src="./js/realtime_bridge.js"></script>

<script>
    // √ÜSI PROJECT SYSTEM INIT
    document.addEventListener('DOMContentLoaded', async () => {
        console.log('üöÄ Initializing √ÜSI Systems...');

        // 1. Initiera realtime-motorn
        AesiRealtime.init();
        AesiRealtime.renderPulseIndicator('aesi-header');

        // 2. Initiera projektsystemet
        await AesiProjects.init();

        // 3. Hotkey f√∂r project switcher (Ctrl+K / Cmd+K)
        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                AesiProjects.showProjectSwitcher();
            }
        });

        // 4. Listen p√• realtime events
        AesiRealtime.on('file-changed', (data) => {
            console.log('üìù File changed:', data.path);
            // Hot-reload UI h√§r om beh√∂vs
        });

        AesiRealtime.on('connection-changed', (data) => {
            console.log(data.isConnected ? '‚úÖ Connected' : '‚ùå Disconnected');
        });

        console.log('‚úÖ √ÜSI PORTAL FULLY INITIALIZED');
    });
</script>
