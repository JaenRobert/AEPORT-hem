<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8" />
<title>ÆSI Live Console</title>
<style>
body { background:#0d0d0d; color:#00ff66; font-family:Consolas, monospace; padding:20px; }
#console { width:100%; height:70vh; background:#000; padding:10px; overflow-y:auto; border-radius:10px; }
#input { width:100%; background:#111; color:#0f0; border:none; padding:10px; font-family:inherit; }
button { background:#0f0; border:none; padding:10px 20px; font-weight:bold; cursor:pointer; margin-top:10px; }
button:hover { background:#1aff66; }
</style>
</head>
<body>
<h2>ÆSI Live Console (Deploy Terminal)</h2>
<div id="console"></div>
<textarea id="input" rows="3" placeholder="Skriv kommando här..."></textarea>
<br>
<button onclick="runCommand()">▶️ Kör kommando</button>

<script>
async function runCommand() {
  const cmd = document.getElementById("input").value;
  const outputEl = document.getElementById("console");
  outputEl.innerHTML += <div>› </div>;
  document.getElementById("input").value = "";

  const res = await fetch("https://aesi-portal.netlify.app/api/exec", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ command: cmd })
  });
  const data = await res.text();
  outputEl.innerHTML += <pre></pre>;
  outputEl.scrollTop = outputEl.scrollHeight;
}
</script>
<script src="/js/global_nav.js"></script>
</body>
</html>

